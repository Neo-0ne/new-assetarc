(function(){const b=(window.ASSETARC_SSO&&ASSETARC_SSO.authBase)||'';const k='assetarc-fp';if(!localStorage.getItem(k))localStorage.setItem(k,crypto.randomUUID());const fp=localStorage.getItem(k);async function post(p,body){const r=await fetch(b+p,{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify(body||{})});return r.json()}window.AssetArcSSO={requestOTP:email=>post('/auth/request-otp',{email,client_fingerprint:fp}),verifyOTP:(email,code)=>post('/auth/verify-otp',{email,code,client_fingerprint:fp}),currentUser:async()=>{try{const r=await fetch(b+'/auth/user',{credentials:'include'});return await r.json()}catch(e){return {ok:false}}}}})();